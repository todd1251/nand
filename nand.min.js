function AndView(a){a=a||{};var b=a.width||100,c=3*b/5,e=4*b/5,d=e/2;return new paper.Path({segments:[{x:0,y:0},{x:c,y:0},new paper.Segment({x:b,y:d},{x:0,y:-d},{x:0,y:d}),{x:c,y:e},{x:0,y:e}],closed:!0,strokeWidth:a.strokeWidth||3,strokeColor:a.strokeColor||"black",fillColor:a.fillColor||"white"})};function BufferView(a){a=a||{};var b=a.width||100,c=4*b/5;return new paper.Path({segments:[{x:0,y:0},{x:3*b/5,y:c/2},{x:0,y:c}],closed:!0,strokeWidth:a.strokeWidth||3,strokeColor:a.strokeColor||"black",fillColor:a.fillColor||"white"})};function InverterView(a){a=a||{};return new paper.Path.Circle({radius:a.radius||12.5,strokeWidth:a.strokeWidth||3,strokeColor:a.strokeColor||"black",fillColor:a.fillColor||"white"})};function NandView(a){a=a||{};var b=new AndView(a),c=b.bounds.width/6;a.radius=c/2;a=new InverterView(a);a.position={x:b.bounds.width+c/2+1,y:b.bounds.height/2};return new paper.Group([b,a])};function NotView(a){a=a||{};var b=new BufferView(a),c=5*b.bounds.width/3/6;a.radius=c/2;a=new InverterView(a);a.position={x:b.bounds.width+c/2+1,y:b.bounds.height/2};return new paper.Group([b,a])};function OrView(a){a=a||{};var b=a.width||100,c=2*b/5,e=b/5,d=4*b/5,f=d/2;return new paper.Path({segments:[{x:0,y:0},{x:c,y:0},new paper.Segment({x:b,y:f},{x:-e,y:-f},{x:-e,y:f}),{x:c,y:d},{x:0,y:d},new paper.Segment({x:15,y:f},{x:0,y:32},{x:0,y:-32})],closed:!0,strokeWidth:a.strokeWidth||3,strokeColor:a.strokeColor||"black",fillColor:a.fillColor||"white"})};function render(){paper.project.activeLayer.removeChildren();(new BufferView).position={x:100,y:100};(new BufferView({width:150})).position={x:275,y:100};(new NotView).position={x:475,y:100};(new NotView({width:150})).position={x:650,y:100};(new AndView).position={x:100,y:300};(new AndView({width:150})).position={x:275,y:300};(new NandView).position={x:475,y:300};(new NandView({width:150})).position={x:650,y:300};(new OrView).position={x:100,y:500}}
window.addEventListener("load",function(){paper.setup(document.getElementById("paper"));paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};var a;paper.view.onMouseDown=function(b){(b=paper.project.hitTest(b.point,{handles:!0,tolerance:5}))&&(a="handle-in"==b.type?b.segment.handleIn:b.segment.handleOut)};(new paper.Tool).onMouseDrag=function(b){a&&(a.x+=b.delta.x,a.y+=b.delta.y,console.log("x: "+a.x+", y: "+a.y))};render()});
