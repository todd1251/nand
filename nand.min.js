function AndView(a){a=a||{};var b=a.strokeWidth||4,c=a.strokeColor||"black",e=a.width||100,d=3*e/5,f=4*e/5,h=f/2,g=new paper.Path.Arc({from:{x:d,y:0},through:{x:e,y:h},to:{x:d,y:f}});g.remove();a=new paper.Path({segments:[{x:0,y:0},{x:d,y:0},g.segments[0],g.segments[1],g.segments[2],{x:d,y:f},{x:0,y:f}],closed:!0,strokeWidth:b,strokeColor:c,fillColor:a.fillColor||"white"});d=f/4;g=e/2;e=new paper.Path.Line({from:{x:-(b/2),y:d},to:{x:-(g+b),y:d},strokeWidth:b,strokeColor:c});f=new paper.Path.Line({from:{x:-(b/
2),y:f-d},to:{x:-(g+b),y:f-d},strokeWidth:b,strokeColor:c});b=new paper.Path.Line({from:{x:a.bounds.width,y:h},to:{x:a.bounds.width+g+b/2,y:h},strokeWidth:b,strokeColor:c});b=new paper.Group([e,f,a,b]);b.gateWidth=a.bounds.width;return b};function BufferView(a){a=a||{};var b=a.strokeWidth||4,c=a.strokeColor||"black",e=a.width||100,d=4*e/5,f=d/2;a=new paper.Path({segments:[{x:0,y:0},{x:3*e/5,y:f},{x:0,y:d}],closed:!0,strokeWidth:b,strokeColor:c,fillColor:a.fillColor||"white"});d=e/2;e=new paper.Path.Line({from:{x:-(b/2),y:f},to:{x:-(d+b),y:f},strokeWidth:b,strokeColor:c});b=new paper.Path.Line({from:{x:a.bounds.width,y:f},to:{x:a.bounds.width+d+b/2,y:f},strokeWidth:b,strokeColor:c});b=new paper.Group([e,a,b]);b.gateWidth=a.bounds.width;
return b};function InverterView(a){a=a||{};return new paper.Path.Circle({radius:a.radius||12.5,strokeWidth:a.strokeWidth||4,strokeColor:a.strokeColor||"black",fillColor:a.fillColor||"white"})};function render(){paper.project.activeLayer.removeChildren();for(var a=[BufferView,NotView,AndView,NandView,OrView,NorView,XorView,XNorView],b=100,c=100,e=0;e<a.length;e++){var d=new a[e];d.position={x:b,y:c};b+=d.bounds.width+50;900<b&&(b=100,c+=d.bounds.height+50)}}
window.addEventListener("load",function(){var a=document.getElementById("paper");paper.setup(a);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};var b;paper.view.onMouseDown=function(a){(a=paper.project.hitTest(a.point,{handles:!0,tolerance:5}))&&(b="handle-in"==a.type?a.segment.handleIn:a.segment.handleOut)};(new paper.Tool).onMouseDrag=function(a){b&&(b.x+=a.delta.x,b.y+=a.delta.y,console.log("x: "+b.x+", y: "+b.y))};render()});function NandView(a){a=a||{};var b=new AndView(a),c=b.gateWidth/6;a.radius=c/2;a=new InverterView(a);a.position={x:b.gateWidth+c/2+1,y:b.bounds.height/2};return new paper.Group([b,a])};function NorView(a){a=a||{};var b=new OrView(a),c=b.gateWidth/6;a.radius=c/2;a=new InverterView(a);a.position={x:b.gateWidth+c/2+1,y:b.bounds.height/2};return new paper.Group([b,a])};function NotView(a){a=a||{};var b=new BufferView(a),c=5*b.gateWidth/3/6;a.radius=c/2;a=new InverterView(a);a.position={x:b.gateWidth+c/2+1,y:b.bounds.height/2};return new paper.Group([b,a])};function OrView(a){a=a||{};var b=a.strokeWidth||4,c=a.strokeColor||"black",e=a.width||100,d=.4*e,f=.6*e,h=e/7,g=4*e/5,k=g/2,l=new paper.Path.Arc({from:{x:d,y:0},through:{x:d+f/2,y:k/4},to:{x:e,y:k}});l.remove();f=new paper.Path.Arc({from:{x:e,y:k},through:{x:d+f/2,y:g-k/4},to:{x:d,y:g}});f.remove();var m=new paper.Path.Arc({from:{x:0,y:g},through:{x:h,y:k},to:{x:0,y:0}});m.remove();a=new paper.Path({segments:[{x:0,y:0},{x:d,y:0},l.segments[0],l.segments[1],f.segments[0],f.segments[1],{x:d,y:g},{x:0,
y:g},m.segments[0],m.segments[1]],closed:!0,strokeWidth:a.strokeWidth||4,strokeColor:a.strokeColor||"black",fillColor:a.fillColor||"white"});d=g/4;l=e/2;e=new paper.Path.Line({from:{x:h-b/2,y:d},to:{x:-(l+b),y:d},strokeWidth:b,strokeColor:c});h=new paper.Path.Line({from:{x:h-b/2,y:g-d},to:{x:-(l+b),y:g-d},strokeWidth:b,strokeColor:c});b=new paper.Path.Line({from:{x:a.bounds.width,y:k},to:{x:a.bounds.width+l+b/2,y:k},strokeWidth:b,strokeColor:c});b=new paper.Group([e,h,a,b]);b.gateWidth=a.bounds.width;
return b};function XNorView(a){a=a||{};var b=new XorView(a),c=b.gateWidth/6;a.radius=c/2;a=new InverterView(a);a.position={x:b.gateWidth-c/2+c/2+1,y:b.bounds.height/2};return new paper.Group([b,a])};function XorView(a){a=a||{};var b=new OrView(a),c=b.gateWidth/7,e=.6*c,d=b.bounds.height,c=new paper.Path.Arc({from:{x:-e,y:0},through:{x:c-.85*e,y:d/2},to:{x:-e,y:d}});c.remove();a=new paper.Path({segments:[{x:1-e,y:0},c.segments[0],c.segments[1],{x:1-e,y:d}],strokeWidth:a.strokeWidth||4,strokeColor:a.strokeColor||"black"});a=new paper.Group([b,a]);a.gateWidth=b.gateWidth+e;return a};
