function AndView(a,c){var b=a.height/2;return new paper.CompoundPath({children:[new paper.Path({segments:[{x:a.wideSegmentWidth,y:0},{x:0,y:0},{x:0,y:a.height},{x:a.wideSegmentWidth,y:a.height}]}),new paper.Path.Arc({from:{x:a.wideSegmentWidth,y:0},through:{x:a.width,y:b},to:{x:a.wideSegmentWidth,y:a.height}})],strokeWidth:c.stroke.width,strokeColor:c.stroke.colour,fillColor:c.fill.colour})};function AppearanceProportionalToDimensions(a,c){c=c||{};this.stroke={width:c.strokeWidth||a.width/20,colour:c.strokeColour||"black"};this.fill={colour:c.fillColour||"white"}}AppearanceProportionalToDimensions.prototype.createPath=function(){return new paper.Path({strokeWidth:this.stroke.width,strokeColor:this.stroke.colour,fillColor:this.fill.colour})};function BufferView(a,c,b){var d=c.height/2;b=b.createPath();b.moveTo({x:0,y:0});b.lineTo({x:c.wideSegmentWidth,y:d});a(b,c);b.lineTo({x:0,y:c.height});b.closePath();return b};function DimensionsProportionalToWidth(a){this.width=a=a||100;this.height=4*a/5;this.wideSegmentWidth=3*a/5;this.narrowSegmentWidth=2*a/5;this.inverterRadius=a/12};function GateView(a,c,b,d){a=new a(b,d);var h=b.height/2,g=b.height/4,f;f=c?7*b.width/10:b.width/2;var l=new paper.Path.Line({from:{x:a.bounds.width,y:h},to:{x:a.bounds.width+f+d.stroke.width/2,y:h},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour});c?(b=new paper.Path.Line({from:{x:-(d.stroke.width/2),y:h},to:{x:-(f+d.stroke.width),y:h},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour}),l=new paper.Group([b,a,l])):(c=new paper.Path.Line({from:{x:-(d.stroke.width/2),y:g},to:{x:-(f+
d.stroke.width),y:g},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour}),b=new paper.Path.Line({from:{x:-(d.stroke.width/2),y:b.height-g},to:{x:-(f+d.stroke.width),y:b.height-g},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour}),l=new paper.Group([c,b,a,l]));l.gateWidth=a.bounds.width;return l};function Inverted(a,c,b){a=new a(c,b);b=new InverterView(c,b);b.position={x:a.gateWidth+c.inverterRadius,y:a.bounds.height/2};return new paper.Group([a,b])};function InverterView(a,c){return new paper.Path.Circle({radius:a.inverterRadius,strokeWidth:c.stroke.width,strokeColor:c.stroke.colour,fillColor:c.fill.colour})};function render(){function a(a,b){return GateView.bind(null,a,b)}function c(a){return Inverted.bind(null,a)}paper.project.activeLayer.removeChildren();var b=[a(BufferView.bind(null,function(a){}),!0),a(BufferView.bind(null,function(a,b){a.arcTo({x:b.wideSegmentWidth+2*b.inverterRadius,y:b.height/2-b.inverterRadius},{x:b.wideSegmentWidth+2*b.inverterRadius,y:b.height/2});a.arcTo({x:b.wideSegmentWidth+2*b.inverterRadius,y:b.height/2+b.inverterRadius},{x:b.wideSegmentWidth,y:b.height/2})}),!0),a(AndView),
c(a(AndView)),a(OrView),c(a(OrView)),XorViewDecorator.bind(null,a(OrView)),XorViewDecorator.bind(null,c(a(OrView)))],d=b.map(function(a){var b=new DimensionsProportionalToWidth,c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),h=b.map(function(a){var b=new DimensionsProportionalToWidth(150),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),g=b.map(function(a){var b=new DimensionsProportionalToWidth(50),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),b=b.map(function(a){var b=
new DimensionsProportionalToWidth(20),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),f=null,l=null;h.map(function(a){if(null==f||a.bounds.width>f)f=a.bounds.width;if(null==l||a.bounds.height>l)l=a.bounds.height});var e=175,k=100;d.map(function(a){a.position={x:e,y:k};e+=f;e>2.5*f&&(e=175,k+=l+0)});e=825;k=100;h.map(function(a){a.position={x:e,y:k};e+=f+50;e>4.5*f&&(e=825,k+=l+50)});e=100;k=600;g.map(function(a){a.position={x:e,y:k};e+=f/4+50;e>1.75*f&&(e=100,k+=l/4+50)});e=625;k=
100;b.map(function(a){a.position={x:e,y:k};e+=f/4+50;e>1.75*f&&(e=625,k+=l/4+50)})}window.addEventListener("load",function(){var a=document.getElementById("paper");paper.setup(a);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function OrView(a,c){var b=a.width/7,d=a.height/2,h=c.createPath();h.moveTo({x:c.stroke.width/2,y:0});h.lineTo({x:a.narrowSegmentWidth,y:0});h.arcTo({x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:d/4},{x:a.width,y:d});h.arcTo({x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:a.height-d/4},{x:a.narrowSegmentWidth,y:a.height});h.lineTo({x:c.stroke.width/2,y:a.height});h.arcTo({x:b,y:d},{x:c.stroke.width/2,y:0});h.closePath();var g=a.height/4,d=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:g},to:{x:b,
y:g},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour}),b=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:a.height-g},to:{x:b,y:a.height-g},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour});return new paper.Group([d,b,h])};function XorViewDecorator(a,c,b){a=new a(c,b);var d=c.width/7;c=a.bounds.height;var h=c/2,g=2.5*b.stroke.width,f=new paper.Path.Arc({from:{x:-g,y:0},through:{x:d-.85*g,y:h},to:{x:-g,y:c}});f.remove();d=new paper.Path.Arc({from:{x:b.stroke.width-1-g,y:-b.stroke.width/2},through:{x:d-.85*g+b.stroke.width,y:h},to:{x:b.stroke.width-1-g,y:c+b.stroke.width/2},strokeWidth:b.stroke.width,strokeColor:"white",strokeCap:"square"});d.remove();b=new paper.Path({segments:[{x:1-g,y:0},f.segments[0],f.segments[1],
{x:1-g,y:c}],strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,strokeCap:"square"});return new paper.Group([b,d,a])};
