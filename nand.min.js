function AndView(a,b){var d=new paper.Path.Arc({from:{x:a.wideSegmentWidth,y:0},through:{x:a.width,y:a.height/2},to:{x:a.wideSegmentWidth,y:a.height}});d.remove();return new paper.Path({segments:[{x:0,y:0},d.segments[0],d.segments[1],d.segments[2],{x:0,y:a.height}],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function AppearanceProportionalToDimensions(a,b){b=b||{};this.stroke={width:b.strokeWidth||a.width/20,colour:b.strokeColour||"black"};this.fill={colour:b.fillColour||"white"}};function BufferView(a,b){return new paper.Path({segments:[{x:0,y:0},{x:a.wideSegmentWidth,y:a.height/2},{x:0,y:a.height}],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function DimensionsProportionalToWidth(a){this.width=a=a||100;this.height=4*a/5;this.wideSegmentWidth=3*a/5;this.narrowSegmentWidth=2*a/5;this.inverterRadius=a/12};function GateView(a,b,d,c){a=new a(d,c);var h=d.height/2,f=d.height/4,g;g=b?7*d.width/10:d.width/2;var e=new paper.Path.Line({from:{x:a.bounds.width,y:h},to:{x:a.bounds.width+g+c.stroke.width/2,y:h},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour});b?(d=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:h},to:{x:-(g+c.stroke.width),y:h},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour}),e=new paper.Group([d,a,e])):(b=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:f},to:{x:-(g+
c.stroke.width),y:f},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour}),d=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:d.height-f},to:{x:-(g+c.stroke.width),y:d.height-f},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour}),e=new paper.Group([b,d,a,e]));e.gateWidth=a.bounds.width;return e};function Inverted(a,b,d){a=new a(b,d);d=new InverterView(b,d);d.position={x:a.gateWidth+b.inverterRadius,y:a.bounds.height/2};return new paper.Group([a,d])};function InverterView(a,b){return new paper.Path.Circle({radius:a.inverterRadius,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function render(){function a(a){return Inverted.bind(null,a)}paper.project.activeLayer.removeChildren();var b=[GateView.bind(null,BufferView,!0),a(GateView.bind(null,BufferView,!0)),GateView.bind(null,AndView,void 0),a(GateView.bind(null,AndView,void 0)),OrView,a(OrView),XorView,a(XorView)],d=b.map(function(a){var b=new DimensionsProportionalToWidth,c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),c=b.map(function(a){var b=new DimensionsProportionalToWidth(150),c=new AppearanceProportionalToDimensions(b);
return new a(b,c)}),h=b.map(function(a){var b=new DimensionsProportionalToWidth(50),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),b=b.map(function(a){var b=new DimensionsProportionalToWidth(20),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),f=null,g=null;c.map(function(a){if(null==f||a.bounds.width>f)f=a.bounds.width;if(null==g||a.bounds.height>g)g=a.bounds.height});var e=175,k=100;d.map(function(a){a.position={x:e,y:k};e+=f;e>2.5*f&&(e=175,k+=g+0)});e=825;k=100;
c.map(function(a){a.position={x:e,y:k};e+=f+50;e>4.5*f&&(e=825,k+=g+50)});e=100;k=600;h.map(function(a){a.position={x:e,y:k};e+=f/4+50;e>1.75*f&&(e=100,k+=g/4+50)});e=625;k=100;b.map(function(a){a.position={x:e,y:k};e+=f/4+50;e>1.75*f&&(e=625,k+=g/4+50)})}window.addEventListener("load",function(){var a=document.getElementById("paper");paper.setup(a);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function OrView(a,b){var d=a.width/7,c=a.height/2,h=new paper.Path.Arc({from:{x:a.narrowSegmentWidth,y:0},through:{x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:c/4},to:{x:a.width,y:c}});h.remove();var f=new paper.Path.Arc({from:{x:a.width,y:c},through:{x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:a.height-c/4},to:{x:a.narrowSegmentWidth,y:a.height}});f.remove();var g=new paper.Path.Arc({from:{x:0,y:a.height},through:{x:d,y:c},to:{x:0,y:0}});g.remove();var h=new paper.Path({segments:[{x:0,y:0},{x:a.narrowSegmentWidth,
y:0},h.segments[0],h.segments[1],f.segments[0],f.segments[1],{x:a.narrowSegmentWidth,y:a.height},{x:0,y:a.height},g.segments[0],g.segments[1]],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour}),e=a.height/4,g=a.width/2,f=new paper.Path.Line({from:{x:d-b.stroke.width/2,y:e},to:{x:-(g+b.stroke.width),y:e},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour}),d=new paper.Path.Line({from:{x:d-b.stroke.width/2,y:a.height-e},to:{x:-(g+b.stroke.width),y:a.height-
e},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour}),c=new paper.Path.Line({from:{x:h.bounds.width,y:c},to:{x:h.bounds.width+g+b.stroke.width/2,y:c},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour}),c=new paper.Group([f,d,h,c]);c.gateWidth=h.bounds.width;return c};function XorView(a,b){var d=new OrView(a,b),c=d.bounds.height,h=2.5*b.stroke.width,f=new paper.Path.Arc({from:{x:-h,y:0},through:{x:d.gateWidth/7-.85*h,y:c/2},to:{x:-h,y:c}});f.remove();var g=(100<d.gateWidth?2:1)-h,c=new paper.Path({segments:[{x:g,y:0},f.segments[0],f.segments[1],{x:g,y:c}],strokeWidth:b.stroke.width,strokeColor:b.stroke.colour}),c=new paper.Group([d,c]);c.gateWidth=d.gateWidth;c.gapWidth=h;return c};
