function AndView(a,b){var d=new paper.Path.Arc({from:{x:a.wideSegmentWidth,y:0},through:{x:a.width,y:a.height/2},to:{x:a.wideSegmentWidth,y:a.height}});d.remove();return new paper.Path({segments:[{x:0,y:0},d.segments[0],d.segments[1],d.segments[2],{x:0,y:a.height}],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function AppearanceProportionalToDimensions(a,b){b=b||{};this.stroke={width:b.strokeWidth||a.width/20,colour:b.strokeColour||"black"};this.fill={colour:b.fillColour||"white"}};function BufferView(a,b){return new paper.Path({segments:[{x:0,y:0},{x:a.wideSegmentWidth,y:a.height/2},{x:0,y:a.height}],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function DimensionsProportionalToWidth(a){this.width=a=a||100;this.height=4*a/5;this.wideSegmentWidth=3*a/5;this.narrowSegmentWidth=2*a/5;this.inverterRadius=a/12};function GateView(a,b,d,c){a=new a(d,c);var g=d.height/2,f=d.height/4,k;k=b?7*d.width/10:d.width/2;var e=new paper.Path.Line({from:{x:a.bounds.width,y:g},to:{x:a.bounds.width+k+c.stroke.width/2,y:g},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour});b?(d=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:g},to:{x:-(k+c.stroke.width),y:g},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour}),e=new paper.Group([d,a,e])):(b=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:f},to:{x:-(k+
c.stroke.width),y:f},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour}),d=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:d.height-f},to:{x:-(k+c.stroke.width),y:d.height-f},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour}),e=new paper.Group([b,d,a,e]));e.gateWidth=a.bounds.width;return e};function Inverted(a,b,d){a=new a(b,d);d=new InverterView(b,d);d.position={x:a.gateWidth+b.inverterRadius,y:a.bounds.height/2};return new paper.Group([a,d])};function InverterView(a,b){return new paper.Path.Circle({radius:a.inverterRadius,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function render(){function a(a){return Inverted.bind(null,a)}paper.project.activeLayer.removeChildren();var b=[GateView.bind(null,BufferView,!0),a(GateView.bind(null,BufferView,!0)),GateView.bind(null,AndView,void 0),a(GateView.bind(null,AndView,void 0)),GateView.bind(null,OrView,void 0),a(GateView.bind(null,OrView,void 0)),GateView.bind(null,XorView,void 0),a(GateView.bind(null,XorView,void 0))],d=b.map(function(a){var b=new DimensionsProportionalToWidth,c=new AppearanceProportionalToDimensions(b);
return new a(b,c)}),c=b.map(function(a){var b=new DimensionsProportionalToWidth(150),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),g=b.map(function(a){var b=new DimensionsProportionalToWidth(50),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),b=b.map(function(a){var b=new DimensionsProportionalToWidth(20),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),f=null,k=null;c.map(function(a){if(null==f||a.bounds.width>f)f=a.bounds.width;if(null==k||a.bounds.height>
k)k=a.bounds.height});var e=175,h=100;d.map(function(a){a.position={x:e,y:h};e+=f;e>2.5*f&&(e=175,h+=k+0)});e=825;h=100;c.map(function(a){a.position={x:e,y:h};e+=f+50;e>4.5*f&&(e=825,h+=k+50)});e=100;h=600;g.map(function(a){a.position={x:e,y:h};e+=f/4+50;e>1.75*f&&(e=100,h+=k/4+50)});e=625;h=100;b.map(function(a){a.position={x:e,y:h};e+=f/4+50;e>1.75*f&&(e=625,h+=k/4+50)})}
window.addEventListener("load",function(){var a=document.getElementById("paper");paper.setup(a);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function OrView(a,b){var d=a.width/7,c=a.height/2,g=new paper.Path.Arc({from:{x:a.narrowSegmentWidth,y:0},through:{x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:c/4},to:{x:a.width,y:c}});g.remove();var f=new paper.Path.Arc({from:{x:a.width,y:c},through:{x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:a.height-c/4},to:{x:a.narrowSegmentWidth,y:a.height}});f.remove();c=new paper.Path.Arc({from:{x:0,y:a.height},through:{x:d,y:c},to:{x:0,y:0}});c.remove();g=new paper.Path({segments:[{x:0,y:0},{x:a.narrowSegmentWidth,
y:0},g.segments[0],g.segments[1],f.segments[0],f.segments[1],{x:a.narrowSegmentWidth,y:a.height},{x:0,y:a.height},c.segments[0],c.segments[1]],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour});c=a.height/4;f=new paper.Path.Line({from:{x:-(b.stroke.width/2),y:c},to:{x:d,y:c},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour});d=new paper.Path.Line({from:{x:-(b.stroke.width/2),y:a.height-c},to:{x:d,y:a.height-c},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour});
return new paper.Group([f,d,g])};function XorView(a,b){var d=new OrView(a,b),c=d.bounds.height,g=2.5*b.stroke.width,f=new paper.Path.Arc({from:{x:-g,y:0},through:{x:a.width/7-.85*g,y:c/2},to:{x:-g,y:c}});f.remove();g=(100<d.gateWidth?2:1)-g;c=new paper.Path({segments:[{x:g,y:0},f.segments[0],f.segments[1],{x:g,y:c}],strokeWidth:b.stroke.width,strokeColor:b.stroke.colour});return new paper.Group([d,c])};
