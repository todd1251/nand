function AndView(b,a){var d=b.height/2,e=new paper.Path.Arc({from:{x:b.wideSegmentWidth,y:0},through:{x:b.width,y:d},to:{x:b.wideSegmentWidth,y:b.height}});e.remove();var e=new paper.Path({segments:[{x:0,y:0},e.segments[0],e.segments[1],e.segments[2],{x:0,y:b.height}],closed:!0,strokeWidth:a.stroke.width,strokeColor:a.stroke.colour,fillColor:a.fill.colour}),c=b.height/4,g=b.width/2,f=new paper.Path.Line({from:{x:-(a.stroke.width/2),y:c},to:{x:-(g+a.stroke.width),y:c},strokeWidth:.6*a.stroke.width,
strokeColor:a.stroke.colour}),c=new paper.Path.Line({from:{x:-(a.stroke.width/2),y:b.height-c},to:{x:-(g+a.stroke.width),y:b.height-c},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),d=new paper.Path.Line({from:{x:e.bounds.width,y:d},to:{x:e.bounds.width+g+a.stroke.width/2,y:d},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),d=new paper.Group([f,c,e,d]);d.gateWidth=e.bounds.width;return d};function AppearanceProportionalToDimensions(b,a){a=a||{};this.stroke={width:a.strokeWidth||b.width/20,colour:a.strokeColour||"black"};this.fill={colour:a.fillColour||"white"}};function BufferView(b,a){var d=b.height/2,e=new paper.Path({segments:[{x:0,y:0},{x:b.wideSegmentWidth,y:d},{x:0,y:b.height}],closed:!0,strokeWidth:a.stroke.width,strokeColor:a.stroke.colour,fillColor:a.fill.colour}),c=7*b.width/10,g=new paper.Path.Line({from:{x:-(a.stroke.width/2),y:d},to:{x:-(c+a.stroke.width),y:d},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),d=new paper.Path.Line({from:{x:e.bounds.width,y:d},to:{x:e.bounds.width+c+a.stroke.width/2,y:d},strokeWidth:.6*a.stroke.width,
strokeColor:a.stroke.colour}),g=new paper.Group([g,e,d]);g.gateWidth=e.bounds.width;return g};function DimensionsProportionalToWidth(b){this.width=b=b||100;this.height=4*b/5;this.wideSegmentWidth=3*b/5;this.narrowSegmentWidth=2*b/5;this.inverterRadius=b/12};function Inverted(b,a,d){b=new b(a,d);d=new InverterView(a,d);d.position={x:b.gateWidth+a.inverterRadius,y:b.bounds.height/2};return new paper.Group([b,d])};function InverterView(b,a){return new paper.Path.Circle({radius:b.inverterRadius,strokeWidth:a.stroke.width,strokeColor:a.stroke.colour,fillColor:a.fill.colour})};function render(){paper.project.activeLayer.removeChildren();var b=[BufferView,Inverted.bind(null,BufferView),AndView,Inverted.bind(null,AndView),OrView,Inverted.bind(null,OrView),XorView,Inverted.bind(null,XorView)],a=b.map(function(b){var a=new DimensionsProportionalToWidth,c=new AppearanceProportionalToDimensions(a);return new b(a,c)}),d=b.map(function(b){var a=new DimensionsProportionalToWidth(150),c=new AppearanceProportionalToDimensions(a);return new b(a,c)}),e=b.map(function(a){var b=new DimensionsProportionalToWidth(50),
c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),b=b.map(function(b){var a=new DimensionsProportionalToWidth(20),c=new AppearanceProportionalToDimensions(a);return new b(a,c)}),c=null,g=null;d.map(function(a){if(null==c||a.bounds.width>c)c=a.bounds.width;if(null==g||a.bounds.height>g)g=a.bounds.height});var f=175,h=100;a.map(function(a){a.position={x:f,y:h};f+=c;f>2.5*c&&(f=175,h+=g+0)});f=825;h=100;d.map(function(a){a.position={x:f,y:h};f+=c+50;f>4.5*c&&(f=825,h+=g+50)});f=100;h=600;
e.map(function(a){a.position={x:f,y:h};f+=c/4+50;f>1.75*c&&(f=100,h+=g/4+50)});f=625;h=100;b.map(function(a){a.position={x:f,y:h};f+=c/4+50;f>1.75*c&&(f=625,h+=g/4+50)})}window.addEventListener("load",function(){var b=document.getElementById("paper");paper.setup(b);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function OrView(b,a){var d=b.width/7,e=b.height/2,c=new paper.Path.Arc({from:{x:b.narrowSegmentWidth,y:0},through:{x:b.narrowSegmentWidth+b.wideSegmentWidth/2,y:e/4},to:{x:b.width,y:e}});c.remove();var g=new paper.Path.Arc({from:{x:b.width,y:e},through:{x:b.narrowSegmentWidth+b.wideSegmentWidth/2,y:b.height-e/4},to:{x:b.narrowSegmentWidth,y:b.height}});g.remove();var f=new paper.Path.Arc({from:{x:0,y:b.height},through:{x:d,y:e},to:{x:0,y:0}});f.remove();var c=new paper.Path({segments:[{x:0,y:0},{x:b.narrowSegmentWidth,
y:0},c.segments[0],c.segments[1],g.segments[0],g.segments[1],{x:b.narrowSegmentWidth,y:b.height},{x:0,y:b.height},f.segments[0],f.segments[1]],closed:!0,strokeWidth:a.stroke.width,strokeColor:a.stroke.colour,fillColor:a.fill.colour}),h=b.height/4,f=b.width/2,g=new paper.Path.Line({from:{x:d-a.stroke.width/2,y:h},to:{x:-(f+a.stroke.width),y:h},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),d=new paper.Path.Line({from:{x:d-a.stroke.width/2,y:b.height-h},to:{x:-(f+a.stroke.width),y:b.height-
h},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),e=new paper.Path.Line({from:{x:c.bounds.width,y:e},to:{x:c.bounds.width+f+a.stroke.width/2,y:e},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),e=new paper.Group([g,d,c,e]);e.gateWidth=c.bounds.width;return e};function XorView(b,a){var d=new OrView(b,a),e=d.gateWidth/7,c=.6*e,g=d.bounds.height,f=c;a.stroke.width>c/2&&(c+=a.stroke.width/2);e=new paper.Path.Arc({from:{x:-c,y:0},through:{x:e-.85*c,y:g/2},to:{x:-c,y:g}});e.remove();c=new paper.Path({segments:[{x:1-c,y:0},e.segments[0],e.segments[1],{x:1-c,y:g}],strokeWidth:a.stroke.width,strokeColor:a.stroke.colour});c=new paper.Group([d,c]);c.gateWidth=d.gateWidth;c.gapWidth=f;return c};
