function AndView(b,a,c){c=c.createPath();c.moveTo({x:0,y:0});c.lineTo({x:a.wideSegmentWidth,y:0});var d={x:a.gateWidth,y:a.halfHeight};c.arcTo({x:a.wideSegmentWidth+1,y:0},d);b(c,a);d.x=c.bounds.width;c.arcTo({x:a.wideSegmentWidth+1,y:a.height},{x:a.wideSegmentWidth,y:a.height});c.lineTo({x:0,y:a.height});c.closePath();c.alignmentCentre={x:a.gateWidth/2,y:a.halfHeight};b=a.height/4;c.inputs=[{x:0,y:b},{x:0,y:a.height-b}];c.outputs=[d];return c};function AppearanceProportionalToDimensions(b,a){a=a||{};this.stroke={width:a.strokeWidth||b.width/25,colour:a.strokeColour||"black"};this.wireStrokeWidth=.5*this.stroke.width;this.fill={colour:a.fillColour||"white"}}AppearanceProportionalToDimensions.prototype.createPath=function(){return new paper.Path({strokeWidth:this.stroke.width,strokeColor:this.stroke.colour,fillColor:this.fill.colour})};function BufferView(b,a,c){var d=c.createPath();d.moveTo({x:0,y:0});c={x:a.wideSegmentWidth-c.stroke.width,y:a.halfHeight};d.lineTo(c);b.decorate(d,a);c.x=d.bounds.width;d.lineTo({x:0,y:a.height});d.closePath();d.alignmentCentre={x:a.wideSegmentWidth/2,y:a.halfHeight};d.inputs=[{x:0,y:a.halfHeight}];d.outputs=[c];return d};function DimensionsProportionalToWidth(b){this.width=b=b||150;this.wireWidth=b/5;this.gateWidth=b-2*this.wireWidth;this.height=4*this.gateWidth/5;this.halfHeight=this.height/2;this.wideSegmentWidth=3*this.gateWidth/5;this.narrowSegmentWidth=2*this.gateWidth/5;this.inverterRadius=this.gateWidth/12};function GateView(b,a,c,d){b=new b(c,d);a=c.width/2-b.alignmentCentre.x+b.inputs[0].x/2;c=new paper.Path.Line({from:b.outputs[0],to:{x:c.width-a+b.inputs[0].x,y:b.outputs[0].y},strokeWidth:d.wireStrokeWidth,strokeColor:d.stroke.colour});for(var g=[],e=0;e<b.inputs.length;e++){var f=b.inputs[e];g.push(new paper.Path.Line({from:{x:f.x-a,y:f.y},to:{x:f.x,y:f.y},strokeWidth:d.wireStrokeWidth,strokeColor:d.stroke.colour}))}g.push(b);g.push(c);return new paper.Group(g)};function Inverted(b,a,c){b=new b(a,c);c=new InverterView(a,c);c.position={x:b.gateWidth+a.inverterRadius,y:b.bounds.height/2};return new paper.Group([b,c])};function InverterView(b,a){return new paper.Path.Circle({radius:b.inverterRadius,strokeWidth:a.stroke.width,strokeColor:a.stroke.colour,fillColor:a.fill.colour})};function render(){function b(a,c){return GateView.bind(null,a,c)}function a(a,c){}function c(a,c){var b=2*c.inverterRadius;a.arcBy({x:b,y:0},!1);a.arcBy({x:-b,y:0},!0);a.arcBy({x:b,y:0},!0);a.arcBy({x:-b,y:0},!1)}function d(){}function g(){}paper.project.activeLayer.removeChildren();d.prototype.offset=function(a){return a.inverterRadius};d.prototype.decorate=function(a,b){c(a,b)};g.prototype.offset=function(a){return 0};g.prototype.decorate=function(a,b){};var e=[b(BufferView.bind(null,new g),!0),
b(BufferView.bind(null,new d),!0),b(AndView.bind(null,a)),b(AndView.bind(null,c)),b(OrView.bind(null,a)),b(OrView.bind(null,c))].map(function(a){var b=new DimensionsProportionalToWidth,c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),f=null,h=null;e.map(function(a){if(null==f||a.bounds.width>f)f=a.bounds.width;if(null==h||a.bounds.height>h)h=a.bounds.height});var k=175,l=100;e.map(function(a){a.position={x:k,y:l};k+=f;k>2*f&&(k=175,l+=h+20)})}
window.addEventListener("load",function(){var b=document.getElementById("paper");paper.setup(b);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function OrView(b,a,c){var d=a.gateWidth/7,g=a.height/2,e=c.createPath();e.moveTo({x:c.stroke.width/2,y:0});e.lineTo({x:a.narrowSegmentWidth,y:0});var f={x:a.gateWidth,y:g};e.arcTo({x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:g/4},f);b(e,a);f.x=e.bounds.width;e.arcTo({x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:a.height-g/4},{x:a.narrowSegmentWidth,y:a.height});e.lineTo({x:c.stroke.width/2,y:a.height});e.arcTo({x:d,y:g},{x:c.stroke.width/2,y:0});e.closePath();e.alignmentCentre={x:a.gateWidth/
2-d/2,y:a.halfHeight};b=a.height/4;e.inputs=[{x:d,y:b},{x:d,y:a.height-b}];e.outputs=[f];return e};function XorViewDecorator(b,a,c){b=new b(a,c);a=a.gateWidth/7;var d=b.bounds.height,g=d/2,e=2.5*c.stroke.width,f=c.createPath();f.strokeCap="square";f.moveTo({x:1-e,y:0});f.lineTo({x:-e,y:0});f.arcTo({x:a-.85*e,y:g},{x:-e,y:d});f.lineTo({x:1-e,y:d});var h=c.createPath();h.strokeCap="square";h.strokeColor="white";h.fillColor=null;h.moveTo({x:c.stroke.width-1-e,y:-c.stroke.width/2});h.arcTo({x:a-.85*e+c.stroke.width,y:g},{x:c.stroke.width-1-e,y:d+c.stroke.width/2});return new paper.Group([f,h,b])};
