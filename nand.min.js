function AndView(a,b){var c=a.height/2;return new paper.CompoundPath({children:[new paper.Path({segments:[{x:a.wideSegmentWidth,y:0},{x:0,y:0},{x:0,y:a.height},{x:a.wideSegmentWidth,y:a.height}]}),new paper.Path.Arc({from:{x:a.wideSegmentWidth,y:0},through:{x:a.width,y:c},to:{x:a.wideSegmentWidth,y:a.height}})],strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function AppearanceProportionalToDimensions(a,b){b=b||{};this.stroke={width:b.strokeWidth||a.width/20,colour:b.strokeColour||"black"};this.fill={colour:b.fillColour||"white"}};function BufferView(a,b){return new paper.Path({segments:[{x:0,y:0},{x:a.wideSegmentWidth,y:a.height/2},{x:0,y:a.height}],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function DimensionsProportionalToWidth(a){this.width=a=a||100;this.height=4*a/5;this.wideSegmentWidth=3*a/5;this.narrowSegmentWidth=2*a/5;this.inverterRadius=a/12};function GateView(a,b,c,d){a=new a(c,d);var g=c.height/2,e=c.height/4,h;h=b?7*c.width/10:c.width/2;var f=new paper.Path.Line({from:{x:a.bounds.width,y:g},to:{x:a.bounds.width+h+d.stroke.width/2,y:g},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour});b?(c=new paper.Path.Line({from:{x:-(d.stroke.width/2),y:g},to:{x:-(h+d.stroke.width),y:g},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour}),f=new paper.Group([c,a,f])):(b=new paper.Path.Line({from:{x:-(d.stroke.width/2),y:e},to:{x:-(h+
d.stroke.width),y:e},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour}),c=new paper.Path.Line({from:{x:-(d.stroke.width/2),y:c.height-e},to:{x:-(h+d.stroke.width),y:c.height-e},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour}),f=new paper.Group([b,c,a,f]));f.gateWidth=a.bounds.width;return f};function Inverted(a,b,c){a=new a(b,c);c=new InverterView(b,c);c.position={x:a.gateWidth+b.inverterRadius,y:a.bounds.height/2};return new paper.Group([a,c])};function InverterView(a,b){return new paper.Path.Circle({radius:a.inverterRadius,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function render(){function a(a){return Inverted.bind(null,a)}paper.project.activeLayer.removeChildren();var b=[GateView.bind(null,BufferView,!0),a(GateView.bind(null,BufferView,!0)),GateView.bind(null,AndView,void 0),a(GateView.bind(null,AndView,void 0)),GateView.bind(null,OrView,void 0),a(GateView.bind(null,OrView,void 0)),XorViewDecorator.bind(null,GateView.bind(null,OrView,void 0)),XorViewDecorator.bind(null,a(GateView.bind(null,OrView,void 0)))],c=b.map(function(a){var b=new DimensionsProportionalToWidth,
c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),d=b.map(function(a){var b=new DimensionsProportionalToWidth(150),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),g=b.map(function(a){var b=new DimensionsProportionalToWidth(50),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),b=b.map(function(a){var b=new DimensionsProportionalToWidth(20),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),e=null,h=null;d.map(function(a){if(null==e||a.bounds.width>
e)e=a.bounds.width;if(null==h||a.bounds.height>h)h=a.bounds.height});var f=175,k=100;c.map(function(a){a.position={x:f,y:k};f+=e;f>2.5*e&&(f=175,k+=h+0)});f=825;k=100;d.map(function(a){a.position={x:f,y:k};f+=e+50;f>4.5*e&&(f=825,k+=h+50)});f=100;k=600;g.map(function(a){a.position={x:f,y:k};f+=e/4+50;f>1.75*e&&(f=100,k+=h/4+50)});f=625;k=100;b.map(function(a){a.position={x:f,y:k};f+=e/4+50;f>1.75*e&&(f=625,k+=h/4+50)})}
window.addEventListener("load",function(){var a=document.getElementById("paper");paper.setup(a);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function OrView(a,b){var c=a.width/7,d=a.height/2,g=new paper.Path({strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour});g.moveTo({x:b.stroke.width/2,y:0});g.lineTo({x:a.narrowSegmentWidth,y:0});g.arcTo({x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:d/4},{x:a.width,y:d});g.arcTo({x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:a.height-d/4},{x:a.narrowSegmentWidth,y:a.height});g.lineTo({x:b.stroke.width/2,y:a.height});g.arcTo({x:c,y:d},{x:b.stroke.width/2,y:0});g.closePath();
var e=a.height/4,d=new paper.Path.Line({from:{x:-(b.stroke.width/2),y:e},to:{x:c,y:e},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour}),c=new paper.Path.Line({from:{x:-(b.stroke.width/2),y:a.height-e},to:{x:c,y:a.height-e},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour});return new paper.Group([d,c,g])};function XorViewDecorator(a,b,c){a=new a(b,c);var d=b.width/7;b=a.bounds.height;var g=b/2,e=2.5*c.stroke.width,h=new paper.Path.Arc({from:{x:-e,y:0},through:{x:d-.85*e,y:g},to:{x:-e,y:b}});h.remove();d=new paper.Path.Arc({from:{x:1-e+3*c.stroke.width/4,y:-c.stroke.width/2},through:{x:d-.85*e+c.stroke.width,y:g},to:{x:1-e+3*c.stroke.width/4,y:b+c.stroke.width/2},strokeWidth:c.stroke.width,strokeColor:"white",strokeCap:"square"});d.remove();c=new paper.Path({segments:[{x:1-e,y:0},h.segments[0],h.segments[1],
{x:1-e,y:b}],strokeWidth:c.stroke.width,strokeColor:c.stroke.colour,strokeCap:"square"});return new paper.Group([c,d,a])};
