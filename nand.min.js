function AndView(c,a,b){b=b.createPath();b.moveTo({x:0,y:0});b.lineTo({x:a.wideSegmentWidth,y:0});b.arcTo({x:a.wideSegmentWidth+1,y:0},{x:a.gateWidth,y:a.halfHeight});c(b,a);b.arcTo({x:a.wideSegmentWidth+1,y:a.height},{x:a.wideSegmentWidth,y:a.height});b.lineTo({x:0,y:a.height});b.closePath();return b};function AppearanceProportionalToDimensions(c,a){a=a||{};this.stroke={width:a.strokeWidth||c.width/20,colour:a.strokeColour||"black"};this.fill={colour:a.fillColour||"white"}}AppearanceProportionalToDimensions.prototype.createPath=function(){return new paper.Path({strokeWidth:this.stroke.width,strokeColor:this.stroke.colour,fillColor:this.fill.colour})};function BufferView(c,a,b){var d=b.createPath(),e=c.offset(a);d.moveTo({x:e,y:0});d.lineTo({x:e+a.wideSegmentWidth-b.stroke.width,y:a.halfHeight});c.decorate(d,a);d.lineTo({x:e,y:a.height});d.closePath();d.offset=e;return d};function DimensionsProportionalToWidth(c){this.width=c=c||100;this.wireWidth=c/12;this.gateWidth=c-2*this.wireWidth;this.height=4*this.gateWidth/5;this.halfHeight=this.height/2;this.wideSegmentWidth=3*this.gateWidth/5;this.narrowSegmentWidth=2*this.gateWidth/5;this.inverterRadius=this.gateWidth/12};function GateView(c,a,b,d){c=new c(b,d);var e=b.height/2,f=b.height/4,g=b.width-c.bounds.width,h=g/2,g=new paper.Path.Line({from:{x:c.offset+c.bounds.width,y:e},to:{x:c.offset+c.bounds.width+(g/2-c.offset),y:e},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour});a?(b=new paper.Path.Line({from:{x:-h,y:e},to:{x:c.offset,y:e},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour}),g=new paper.Group([b,c,g])):(a=new paper.Path.Line({from:{x:-(d.stroke.width/2),y:f},to:{x:-(h+d.stroke.width),
y:f},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour}),b=new paper.Path.Line({from:{x:-(d.stroke.width/2),y:b.height-f},to:{x:-(h+d.stroke.width),y:b.height-f},strokeWidth:.6*d.stroke.width,strokeColor:d.stroke.colour}),g=new paper.Group([a,b,c,g]));g.gateWidth=c.bounds.width;return g};function Inverted(c,a,b){c=new c(a,b);b=new InverterView(a,b);b.position={x:c.gateWidth+a.inverterRadius,y:c.bounds.height/2};return new paper.Group([c,b])};function InverterView(c,a){return new paper.Path.Circle({radius:c.inverterRadius,strokeWidth:a.stroke.width,strokeColor:a.stroke.colour,fillColor:a.fill.colour})};function render(){function c(a,b){return GateView.bind(null,a,b)}function a(){}function b(){}paper.project.activeLayer.removeChildren();a.prototype.offset=function(a){return a.inverterRadius};a.prototype.decorate=function(a,b){var c=2*b.inverterRadius;a.arcBy({x:c,y:0},!1);a.arcBy({x:-c,y:0},!0);a.arcBy({x:c,y:0},!0);a.arcBy({x:-c,y:0},!1)};b.prototype.offset=function(a){return 0};b.prototype.decorate=function(a,b){};var d=[c(BufferView.bind(null,new b),!0),c(BufferView.bind(null,new a),!0)].map(function(a){var b=
new DimensionsProportionalToWidth,c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),e=null,f=null;d.map(function(a){if(null==e||a.bounds.width>e)e=a.bounds.width;if(null==f||a.bounds.height>f)f=a.bounds.height});var g=175,h=100;d.map(function(a){a.position={x:g,y:h};g+=e;g>2.5*e&&(g=175,h+=f+20)})}
window.addEventListener("load",function(){var c=document.getElementById("paper");paper.setup(c);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function OrView(c,a,b){var d=a.gateWidth/7,e=a.height/2,f=b.createPath();f.moveTo({x:b.stroke.width/2,y:0});f.lineTo({x:a.narrowSegmentWidth,y:0});f.arcTo({x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:e/4},{x:a.gateWidth,y:e});c(f,a);f.arcTo({x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:a.height-e/4},{x:a.narrowSegmentWidth,y:a.height});f.lineTo({x:b.stroke.width/2,y:a.height});f.arcTo({x:d,y:e},{x:b.stroke.width/2,y:0});f.closePath();e=a.height/4;c=new paper.Path.Line({from:{x:-(b.stroke.width/
2),y:e},to:{x:d,y:e},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour});a=new paper.Path.Line({from:{x:-(b.stroke.width/2),y:a.height-e},to:{x:d,y:a.height-e},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour});return new paper.Group([c,a,f])};function XorViewDecorator(c,a,b){c=new c(a,b);a=a.gateWidth/7;var d=c.bounds.height,e=d/2,f=2.5*b.stroke.width,g=b.createPath();g.strokeCap="square";g.moveTo({x:1-f,y:0});g.lineTo({x:-f,y:0});g.arcTo({x:a-.85*f,y:e},{x:-f,y:d});g.lineTo({x:1-f,y:d});var h=b.createPath();h.strokeCap="square";h.strokeColor="white";h.fillColor=null;h.moveTo({x:b.stroke.width-1-f,y:-b.stroke.width/2});h.arcTo({x:a-.85*f+b.stroke.width,y:e},{x:b.stroke.width-1-f,y:d+b.stroke.width/2});return new paper.Group([g,h,c])};
