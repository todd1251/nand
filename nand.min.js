function AndView(a){a=a||{};var c=a.width||100,b=a.strokeWidth||c/20,h=a.strokeColor||"black",d=3*c/5,f=4*c/5,e=f/2,d=new paper.Path.Arc({from:{x:d,y:0},through:{x:c,y:e},to:{x:d,y:f}});d.remove();a=new paper.Path({segments:[{x:0,y:0},d.segments[0],d.segments[1],d.segments[2],{x:0,y:f}],closed:!0,strokeWidth:b,strokeColor:h,fillColor:a.fillColor||"white"});var d=f/4,g=c/2,c=new paper.Path.Line({from:{x:-(b/2),y:d},to:{x:-(g+b),y:d},strokeWidth:.6*b,strokeColor:h}),f=new paper.Path.Line({from:{x:-(b/
2),y:f-d},to:{x:-(g+b),y:f-d},strokeWidth:.6*b,strokeColor:h}),b=new paper.Path.Line({from:{x:a.bounds.width,y:e},to:{x:a.bounds.width+g+b/2,y:e},strokeWidth:.6*b,strokeColor:h}),b=new paper.Group([c,f,a,b]);b.gateWidth=a.bounds.width;return b};function BufferView(a){a=a||{};var c=a.width||100,b=a.strokeWidth||c/20,h=a.strokeColor||"black",d=4*c/5,f=d/2;a=new paper.Path({segments:[{x:0,y:0},{x:3*c/5,y:f},{x:0,y:d}],closed:!0,strokeWidth:b,strokeColor:h,fillColor:a.fillColor||"white"});d=7*c/10;c=new paper.Path.Line({from:{x:-(b/2),y:f},to:{x:-(d+b),y:f},strokeWidth:.6*b,strokeColor:h});b=new paper.Path.Line({from:{x:a.bounds.width,y:f},to:{x:a.bounds.width+d+b/2,y:f},strokeWidth:.6*b,strokeColor:h});b=new paper.Group([c,a,b]);b.gateWidth=
a.bounds.width;return b};function InverterView(a){a=a||{};var c=a.width||100;return new paper.Path.Circle({radius:a.radius||12.5,strokeWidth:a.strokeWidth||c/20,strokeColor:a.strokeColor||"black",fillColor:a.fillColor||"white"})};function render(){paper.project.activeLayer.removeChildren();var a=[BufferView,NotView,AndView,NandView,OrView,NorView,XorView,XNorView],c=a.map(function(a){return new a}),b=a.map(function(a){return new a({width:150})}),h=a.map(function(a){return new a({width:50})}),a=a.map(function(a){return new a({width:20})}),d=null,f=null;b.map(function(a){if(null==d||a.bounds.width>d)d=a.bounds.width;if(null==f||a.bounds.height>f)f=a.bounds.height});var e=175,g=100;c.map(function(a){a.position={x:e,y:g};e+=d;
e>2.5*d&&(e=175,g+=f+0)});e=825;g=100;b.map(function(a){a.position={x:e,y:g};e+=d+50;e>4.5*d&&(e=825,g+=f+50)});e=100;g=600;h.map(function(a){a.position={x:e,y:g};e+=d/4+50;e>1.75*d&&(e=100,g+=f/4+50)});e=625;g=100;a.map(function(a){a.position={x:e,y:g};e+=d/4+50;e>1.75*d&&(e=625,g+=f/4+50)})}window.addEventListener("load",function(){var a=document.getElementById("paper");paper.setup(a);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function NandView(a){a=a||{};var c=new AndView(a),b=c.gateWidth/6;a.radius=b/2;a=new InverterView(a);a.position={x:c.gateWidth+b/2+1,y:c.bounds.height/2};return new paper.Group([c,a])};function NorView(a){a=a||{};var c=new OrView(a),b=c.gateWidth/6;a.radius=b/2;a=new InverterView(a);a.position={x:c.gateWidth+b/2+1,y:c.bounds.height/2};return new paper.Group([c,a])};function NotView(a){a=a||{};var c=new BufferView(a),b=5*c.gateWidth/3/6;a.radius=b/2;a=new InverterView(a);a.position={x:c.gateWidth+b/2+1,y:c.bounds.height/2};return new paper.Group([c,a])};function OrView(a){a=a||{};var c=a.width||100,b=a.strokeWidth||c/20,h=a.strokeColor||"black",d=.4*c,f=.6*c,e=c/7,g=4*c/5,k=g/2,l=new paper.Path.Arc({from:{x:d,y:0},through:{x:d+f/2,y:k/4},to:{x:c,y:k}});l.remove();f=new paper.Path.Arc({from:{x:c,y:k},through:{x:d+f/2,y:g-k/4},to:{x:d,y:g}});f.remove();var m=new paper.Path.Arc({from:{x:0,y:g},through:{x:e,y:k},to:{x:0,y:0}});m.remove();a=new paper.Path({segments:[{x:0,y:0},{x:d,y:0},l.segments[0],l.segments[1],f.segments[0],f.segments[1],{x:d,y:g},
{x:0,y:g},m.segments[0],m.segments[1]],closed:!0,strokeWidth:b,strokeColor:a.strokeColor||"black",fillColor:a.fillColor||"white"});d=g/4;l=c/2;c=new paper.Path.Line({from:{x:e-b/2,y:d},to:{x:-(l+b),y:d},strokeWidth:.6*b,strokeColor:h});e=new paper.Path.Line({from:{x:e-b/2,y:g-d},to:{x:-(l+b),y:g-d},strokeWidth:.6*b,strokeColor:h});b=new paper.Path.Line({from:{x:a.bounds.width,y:k},to:{x:a.bounds.width+l+b/2,y:k},strokeWidth:.6*b,strokeColor:h});b=new paper.Group([c,e,a,b]);b.gateWidth=a.bounds.width;
return b};function XNorView(a){a=a||{};var c=new XorView(a),b=c.gateWidth/6;a.radius=b/2;a=new InverterView(a);a.position={x:c.gateWidth+c.gapWidth-b/2+b/2+1,y:c.bounds.height/2};return new paper.Group([c,a])};function XorView(a){a=a||{};var c=a.width||100,b=a.strokeWidth||c/20,c=new OrView(a),h=c.gateWidth/7,d=.6*h,f=c.bounds.height,e=d;b>d/2&&(d+=b/2);h=new paper.Path.Arc({from:{x:-d,y:0},through:{x:h-.85*d,y:f/2},to:{x:-d,y:f}});h.remove();a=new paper.Path({segments:[{x:1-d,y:0},h.segments[0],h.segments[1],{x:1-d,y:f}],strokeWidth:b,strokeColor:a.strokeColor||"black"});a=new paper.Group([c,a]);a.gateWidth=c.gateWidth;a.gapWidth=e;return a};
