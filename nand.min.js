function AndView(a,b){var d=a.height/2,c=new paper.Path.Arc({from:{x:a.wideSegmentWidth,y:0},through:{x:a.width,y:d},to:{x:a.wideSegmentWidth,y:a.height}});c.remove();var c=new paper.Path({segments:[{x:0,y:0},c.segments[0],c.segments[1],c.segments[2],{x:0,y:a.height}],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour}),e=a.height/4,g=a.width/2,f=new paper.Path.Line({from:{x:-(b.stroke.width/2),y:e},to:{x:-(g+b.stroke.width),y:e},strokeWidth:.6*b.stroke.width,
strokeColor:b.stroke.colour}),e=new paper.Path.Line({from:{x:-(b.stroke.width/2),y:a.height-e},to:{x:-(g+b.stroke.width),y:a.height-e},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour}),d=new paper.Path.Line({from:{x:c.bounds.width,y:d},to:{x:c.bounds.width+g+b.stroke.width/2,y:d},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour}),d=new paper.Group([f,e,c,d]);d.gateWidth=c.bounds.width;return d};function AppearanceProportionalToDimensions(a,b){b=b||{};this.stroke={width:b.strokeWidth||a.width/20,colour:b.strokeColour||"black"};this.fill={colour:b.fillColour||"white"}};function BufferView(a,b){var d=a.height/2,c=new paper.Path({segments:[{x:0,y:0},{x:a.wideSegmentWidth,y:d},{x:0,y:a.height}],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour}),e=7*a.width/10,g=new paper.Path.Line({from:{x:-(b.stroke.width/2),y:d},to:{x:-(e+b.stroke.width),y:d},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour}),d=new paper.Path.Line({from:{x:c.bounds.width,y:d},to:{x:c.bounds.width+e+b.stroke.width/2,y:d},strokeWidth:.6*b.stroke.width,
strokeColor:b.stroke.colour}),g=new paper.Group([g,c,d]);g.gateWidth=c.bounds.width;return g};function DimensionsProportionalToWidth(a){this.width=a=a||100;this.height=4*a/5;this.wideSegmentWidth=3*a/5;this.narrowSegmentWidth=2*a/5;this.inverterRadius=a/12};function Inverted(a,b,d){a=new a(b,d);d=new InverterView(b,d);d.position={x:a.gateWidth+b.inverterRadius,y:a.bounds.height/2};return new paper.Group([a,d])};function InverterView(a,b){return new paper.Path.Circle({radius:a.inverterRadius,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function render(){paper.project.activeLayer.removeChildren();var a=[BufferView,Inverted.bind(null,BufferView),AndView,Inverted.bind(null,AndView),OrView,Inverted.bind(null,OrView),XorView,Inverted.bind(null,XorView)],b=a.map(function(a){var b=new DimensionsProportionalToWidth,c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),d=a.map(function(a){var b=new DimensionsProportionalToWidth(150),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),c=a.map(function(a){var b=new DimensionsProportionalToWidth(50),
c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),a=a.map(function(b){var a=new DimensionsProportionalToWidth(20),c=new AppearanceProportionalToDimensions(a);return new b(a,c)}),e=null,g=null;d.map(function(a){if(null==e||a.bounds.width>e)e=a.bounds.width;if(null==g||a.bounds.height>g)g=a.bounds.height});var f=175,h=100;b.map(function(a){a.position={x:f,y:h};f+=e;f>2.5*e&&(f=175,h+=g+0)});f=825;h=100;d.map(function(a){a.position={x:f,y:h};f+=e+50;f>4.5*e&&(f=825,h+=g+50)});f=100;h=600;
c.map(function(a){a.position={x:f,y:h};f+=e/4+50;f>1.75*e&&(f=100,h+=g/4+50)});f=625;h=100;a.map(function(a){a.position={x:f,y:h};f+=e/4+50;f>1.75*e&&(f=625,h+=g/4+50)})}window.addEventListener("load",function(){var a=document.getElementById("paper");paper.setup(a);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function OrView(a,b){var d=a.width/7,c=a.height/2,e=new paper.Path.Arc({from:{x:a.narrowSegmentWidth,y:0},through:{x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:c/4},to:{x:a.width,y:c}});e.remove();var g=new paper.Path.Arc({from:{x:a.width,y:c},through:{x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:a.height-c/4},to:{x:a.narrowSegmentWidth,y:a.height}});g.remove();var f=new paper.Path.Arc({from:{x:0,y:a.height},through:{x:d,y:c},to:{x:0,y:0}});f.remove();var e=new paper.Path({segments:[{x:0,y:0},{x:a.narrowSegmentWidth,
y:0},e.segments[0],e.segments[1],g.segments[0],g.segments[1],{x:a.narrowSegmentWidth,y:a.height},{x:0,y:a.height},f.segments[0],f.segments[1]],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour}),h=a.height/4,f=a.width/2,g=new paper.Path.Line({from:{x:d-b.stroke.width/2,y:h},to:{x:-(f+b.stroke.width),y:h},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour}),d=new paper.Path.Line({from:{x:d-b.stroke.width/2,y:a.height-h},to:{x:-(f+b.stroke.width),y:a.height-
h},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour}),c=new paper.Path.Line({from:{x:e.bounds.width,y:c},to:{x:e.bounds.width+f+b.stroke.width/2,y:c},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour}),c=new paper.Group([g,d,e,c]);c.gateWidth=e.bounds.width;return c};function XorView(a,b){var d=new OrView(a,b),c=d.bounds.height,e=2.5*b.stroke.width,g=new paper.Path.Arc({from:{x:-e,y:0},through:{x:d.gateWidth/7-.85*e,y:c/2},to:{x:-e,y:c}});g.remove();var f=(100<d.gateWidth?2:1)-e,c=new paper.Path({segments:[{x:f,y:0},g.segments[0],g.segments[1],{x:f,y:c}],strokeWidth:b.stroke.width,strokeColor:b.stroke.colour}),c=new paper.Group([d,c]);c.gateWidth=d.gateWidth;c.gapWidth=e;return c};
