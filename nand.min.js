function AndView(c,a,b){var d=b.createPath();d.moveTo({x:0,y:0});d.lineTo({x:a.wideSegmentWidth,y:0});var f={x:a.gateWidth,y:a.halfHeight};d.arcTo({x:a.wideSegmentWidth+1,y:0},f);d=c.decorate(d,a,b);f.x=d.bounds.width;d.arcTo({x:a.wideSegmentWidth+1,y:a.height},{x:a.wideSegmentWidth,y:a.height});d.lineTo({x:0,y:a.height});d.closePath();d.alignmentCentre={x:a.gateWidth/2,y:a.halfHeight};c=a.height/4;d.inputs=[{x:0,y:c},{x:0,y:a.height-c}];d.outputs=[f];return d};function AppearanceProportionalToDimensions(c,a){a=a||{};this.stroke={width:a.strokeWidth||c.width/25,colour:a.strokeColour||"black"};this.wireStrokeWidth=.5*this.stroke.width;this.fill={colour:a.fillColour||"white"}}AppearanceProportionalToDimensions.prototype.createPath=function(){return new paper.Path({strokeWidth:this.stroke.width,strokeColor:this.stroke.colour,fillColor:this.fill.colour})};function BufferView(c,a,b){var d=b.createPath();d.moveTo({x:0,y:0});var f={x:a.wideSegmentWidth-b.stroke.width,y:a.halfHeight};d.lineTo(f);d=c.decorate(d,a,b);f.x=d.bounds.width;d.lineTo({x:0,y:a.height});d.closePath();d.alignmentCentre={x:a.wideSegmentWidth/2,y:a.halfHeight};d.inputs=[{x:0,y:a.halfHeight}];d.outputs=[f];return d};function DimensionsProportionalToWidth(c){this.width=c=c||100;this.wireWidth=c/5;this.gateWidth=c-2*this.wireWidth;this.height=4*this.gateWidth/5;this.halfHeight=this.height/2;this.wideSegmentWidth=3*this.gateWidth/5;this.narrowSegmentWidth=2*this.gateWidth/5;this.inverterRadius=this.gateWidth/12};function GateView(c,a,b){c=new c(a,b);var d=a.width/2-c.alignmentCentre.x+c.inputs[0].x/2,f=[];f.push(c);a=new paper.Path.Line({from:c.outputs[0],to:{x:a.width-d+c.inputs[0].x,y:c.outputs[0].y},strokeWidth:b.wireStrokeWidth,strokeColor:b.stroke.colour});for(var e=0;e<c.inputs.length;e++){var g=c.inputs[e];f.push(new paper.Path.Line({from:{x:g.x-d,y:g.y},to:{x:g.x,y:g.y},strokeWidth:b.wireStrokeWidth,strokeColor:b.stroke.colour}))}f.push(a);return new paper.Group(f)};function render(){function c(a){return GateView.bind(null,a)}function a(){}function b(){}paper.project.activeLayer.removeChildren();a.prototype.decorate=function(a,b,c){b=2*b.inverterRadius;a.arcBy({x:b,y:0},!1);a.arcBy({x:-b,y:0},!0);a.arcBy({x:b,y:0},!0);a.arcBy({x:-b,y:0},!1);return a};b.prototype.decorate=function(a,b,c){return a};var d=[c(BufferView.bind(null,new b)),c(BufferView.bind(null,new a)),c(AndView.bind(null,new b)),c(AndView.bind(null,new a)),c(OrView.bind(null,new b,new b)),c(OrView.bind(null,
new b,new a)),c(OrView.bind(null,new XorDecoration,new b)),c(OrView.bind(null,new XorDecoration,new a))].map(function(a){var b=new DimensionsProportionalToWidth,c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),f=null,e=null;d.map(function(a){if(null==f||a.bounds.width>f)f=a.bounds.width;if(null==e||a.bounds.height>e)e=a.bounds.height});var g=175,h=100;d.map(function(a){a.position={x:g,y:h};g+=f;g>2*f&&(g=175,h+=e+20)})}
window.addEventListener("load",function(){var c=document.getElementById("paper");paper.setup(c);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function OrView(c,a,b,d){var f=b.gateWidth/7,e=d.createPath();e.moveTo({x:d.stroke.width/2,y:0});e.lineTo({x:b.narrowSegmentWidth,y:0});var g={x:b.gateWidth,y:b.halfHeight};e.arcTo({x:b.narrowSegmentWidth+b.wideSegmentWidth/2,y:b.halfHeight/4},g);e=a.decorate(e,b,d);g.x=e.bounds.width;e.arcTo({x:b.narrowSegmentWidth+b.wideSegmentWidth/2,y:b.height-b.halfHeight/4},{x:b.narrowSegmentWidth,y:b.height});e.lineTo({x:d.stroke.width/2,y:b.height});e.arcTo({x:f,y:b.halfHeight},{x:d.stroke.width/2,y:0});e.closePath();
e=c.decorate(e,b,d);e.alignmentCentre={x:b.gateWidth/2-f/2,y:b.halfHeight};c=b.height/4;e.inputs=[{x:f,y:c},{x:f,y:b.height-c}];e.outputs=[g];return e};function XorDecoration(){}
XorDecoration.prototype.decorate=function(c,a,b){var d=a.gateWidth/7,f=2.5*b.stroke.width,e=b.createPath();e.strokeCap="square";e.fillColor=null;e.moveTo({x:1-f,y:0});e.lineTo({x:-f,y:0});e.arcTo({x:d-.85*f,y:a.halfHeight},{x:-f,y:a.height});e.lineTo({x:1-f,y:a.height});var g=b.createPath();g.strokeCap="square";g.strokeColor="white";g.fillColor=null;g.moveTo({x:b.stroke.width-1-f,y:-b.stroke.width/2});g.arcTo({x:d-.85*f+b.stroke.width,y:a.halfHeight},{x:b.stroke.width-1-f,y:a.height+b.stroke.width/
2});return new paper.Group([e,g,c])};
