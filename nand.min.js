function AndView(a,b){var d=new paper.Path.Arc({from:{x:a.wideSegmentWidth,y:0},through:{x:a.width,y:a.height/2},to:{x:a.wideSegmentWidth,y:a.height}});d.remove();return new paper.Path({segments:[{x:0,y:0},d.segments[0],d.segments[1],d.segments[2],{x:0,y:a.height}],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function AppearanceProportionalToDimensions(a,b){b=b||{};this.stroke={width:b.strokeWidth||a.width/20,colour:b.strokeColour||"black"};this.fill={colour:b.fillColour||"white"}};function BufferView(a,b){return new paper.Path({segments:[{x:0,y:0},{x:a.wideSegmentWidth,y:a.height/2},{x:0,y:a.height}],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function DimensionsProportionalToWidth(a){this.width=a=a||100;this.height=4*a/5;this.wideSegmentWidth=3*a/5;this.narrowSegmentWidth=2*a/5;this.inverterRadius=a/12};function GateView(a,b,d,c){a=new a(d,c);var g=d.height/2,e=d.height/4,h;h=b?7*d.width/10:d.width/2;var f=new paper.Path.Line({from:{x:a.bounds.width,y:g},to:{x:a.bounds.width+h+c.stroke.width/2,y:g},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour});b?(d=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:g},to:{x:-(h+c.stroke.width),y:g},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour}),f=new paper.Group([d,a,f])):(b=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:e},to:{x:-(h+
c.stroke.width),y:e},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour}),d=new paper.Path.Line({from:{x:-(c.stroke.width/2),y:d.height-e},to:{x:-(h+c.stroke.width),y:d.height-e},strokeWidth:.6*c.stroke.width,strokeColor:c.stroke.colour}),f=new paper.Group([b,d,a,f]));f.gateWidth=a.bounds.width;return f};function Inverted(a,b,d){a=new a(b,d);d=new InverterView(b,d);d.position={x:a.gateWidth+b.inverterRadius,y:a.bounds.height/2};return new paper.Group([a,d])};function InverterView(a,b){return new paper.Path.Circle({radius:a.inverterRadius,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour})};function render(){function a(a){return Inverted.bind(null,a)}paper.project.activeLayer.removeChildren();var b=[GateView.bind(null,BufferView,!0),a(GateView.bind(null,BufferView,!0)),GateView.bind(null,AndView,void 0),a(GateView.bind(null,AndView,void 0)),GateView.bind(null,OrView,void 0),a(GateView.bind(null,OrView,void 0)),XorViewDecorator.bind(null,GateView.bind(null,OrView,void 0)),XorViewDecorator.bind(null,a(GateView.bind(null,OrView,void 0)))],d=b.map(function(a){var b=new DimensionsProportionalToWidth,
c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),c=b.map(function(a){var b=new DimensionsProportionalToWidth(150),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),g=b.map(function(a){var b=new DimensionsProportionalToWidth(50),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),b=b.map(function(a){var b=new DimensionsProportionalToWidth(20),c=new AppearanceProportionalToDimensions(b);return new a(b,c)}),e=null,h=null;c.map(function(a){if(null==e||a.bounds.width>
e)e=a.bounds.width;if(null==h||a.bounds.height>h)h=a.bounds.height});var f=175,k=100;d.map(function(a){a.position={x:f,y:k};f+=e;f>2.5*e&&(f=175,k+=h+0)});f=825;k=100;c.map(function(a){a.position={x:f,y:k};f+=e+50;f>4.5*e&&(f=825,k+=h+50)});f=100;k=600;g.map(function(a){a.position={x:f,y:k};f+=e/4+50;f>1.75*e&&(f=100,k+=h/4+50)});f=625;k=100;b.map(function(a){a.position={x:f,y:k};f+=e/4+50;f>1.75*e&&(f=625,k+=h/4+50)})}
window.addEventListener("load",function(){var a=document.getElementById("paper");paper.setup(a);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function OrView(a,b){var d=a.width/7,c=a.height/2,g=new paper.Path.Arc({from:{x:a.narrowSegmentWidth,y:0},through:{x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:c/4},to:{x:a.width,y:c}});g.remove();var e=new paper.Path.Arc({from:{x:a.width,y:c},through:{x:a.narrowSegmentWidth+a.wideSegmentWidth/2,y:a.height-c/4},to:{x:a.narrowSegmentWidth,y:a.height}});e.remove();c=new paper.Path.Arc({from:{x:0,y:a.height},through:{x:d,y:c},to:{x:0,y:0}});c.remove();g=new paper.Path({segments:[{x:0,y:0},{x:a.narrowSegmentWidth,
y:0},g.segments[0],g.segments[1],e.segments[0],e.segments[1],{x:a.narrowSegmentWidth,y:a.height},{x:0,y:a.height},c.segments[0],c.segments[1]],closed:!0,strokeWidth:b.stroke.width,strokeColor:b.stroke.colour,fillColor:b.fill.colour});c=a.height/4;e=new paper.Path.Line({from:{x:-(b.stroke.width/2),y:c},to:{x:d,y:c},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour});d=new paper.Path.Line({from:{x:-(b.stroke.width/2),y:a.height-c},to:{x:d,y:a.height-c},strokeWidth:.6*b.stroke.width,strokeColor:b.stroke.colour});
return new paper.Group([e,d,g])};function XorView(a,b){var d=new OrView(a,b),c=d.bounds.height,g=2.5*b.stroke.width,e=new paper.Path.Arc({from:{x:-g,y:0},through:{x:a.width/7-.85*g,y:c/2},to:{x:-g,y:c}});e.remove();g=(100<d.gateWidth?2:1)-g;c=new paper.Path({segments:[{x:g,y:0},e.segments[0],e.segments[1],{x:g,y:c}],strokeWidth:b.stroke.width,strokeColor:b.stroke.colour});return new paper.Group([d,c])}
function XorViewDecorator(a,b,d){a=new a(b,d);b=b.width/7;var c=a.bounds.height,g=c/2,e=2.5*d.stroke.width,h=new paper.Path.Arc({from:{x:-e,y:0},through:{x:b-.85*e,y:g},to:{x:-e,y:c}});h.remove();(new paper.Path.Arc({from:{x:1-e,y:0},through:{x:b-.85*e,y:g},to:{x:1-e,y:c},strokeWidth:d.stroke.width,strokeColor:"red"})).remove();d=new paper.Path({segments:[{x:1-e,y:0},h.segments[0],h.segments[1],{x:1-e,y:c}],strokeWidth:d.stroke.width,strokeColor:d.stroke.colour,strokeCap:"square"});return new paper.Group([a,
d])};
