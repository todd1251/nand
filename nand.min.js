function AndView(b,a){var c=3*b.width/5,e=b.height/2,c=new paper.Path.Arc({from:{x:c,y:0},through:{x:b.width,y:e},to:{x:c,y:b.height}});c.remove();var c=new paper.Path({segments:[{x:0,y:0},c.segments[0],c.segments[1],c.segments[2],{x:0,y:b.height}],closed:!0,strokeWidth:a.stroke.width,strokeColor:a.stroke.colour,fillColor:a.fill.colour}),d=b.height/4,f=b.width/2,g=new paper.Path.Line({from:{x:-(a.stroke.width/2),y:d},to:{x:-(f+a.stroke.width),y:d},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),
d=new paper.Path.Line({from:{x:-(a.stroke.width/2),y:b.height-d},to:{x:-(f+a.stroke.width),y:b.height-d},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),e=new paper.Path.Line({from:{x:c.bounds.width,y:e},to:{x:c.bounds.width+f+a.stroke.width/2,y:e},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),e=new paper.Group([g,d,c,e]);e.gateWidth=c.bounds.width;return e};function BufferView(b,a){var c=b.height/2,e=new paper.Path({segments:[{x:0,y:0},{x:3*b.width/5,y:c},{x:0,y:b.height}],closed:!0,strokeWidth:a.stroke.width,strokeColor:a.stroke.colour,fillColor:a.fill.colour}),d=7*b.width/10,f=new paper.Path.Line({from:{x:-(a.stroke.width/2),y:c},to:{x:-(d+a.stroke.width),y:c},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),c=new paper.Path.Line({from:{x:e.bounds.width,y:c},to:{x:e.bounds.width+d+a.stroke.width/2,y:c},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour}),
f=new paper.Group([f,e,c]);f.gateWidth=e.bounds.width;return f};function InverterView(b,a){return new paper.Path.Circle({radius:b.inverterRadius,strokeWidth:a.stroke.width,strokeColor:a.stroke.colour,fillColor:a.fill.colour})};function render(){paper.project.activeLayer.removeChildren();var b=[BufferView,NotView,AndView,NandView,OrView,NorView,XorView,XNorView],a=b.map(function(a){var b=new ProportionalHeight,c=new ProportionalThickness(b);return new a(b,c)}),c=b.map(function(a){var b=new ProportionalHeight({width:150}),c=new ProportionalThickness(b);return new a(b,c)}),e=b.map(function(a){var b=new ProportionalHeight({width:50}),c=new ProportionalThickness(b);return new a(b,c)}),b=b.map(function(a){var b=new ProportionalHeight({width:20}),
c=new ProportionalThickness(b);return new a(b,c)}),d=null,f=null;c.map(function(a){if(null==d||a.bounds.width>d)d=a.bounds.width;if(null==f||a.bounds.height>f)f=a.bounds.height});var g=175,h=100;a.map(function(a){a.position={x:g,y:h};g+=d;g>2.5*d&&(g=175,h+=f+0)});g=825;h=100;c.map(function(a){a.position={x:g,y:h};g+=d+50;g>4.5*d&&(g=825,h+=f+50)});g=100;h=600;e.map(function(a){a.position={x:g,y:h};g+=d/4+50;g>1.75*d&&(g=100,h+=f/4+50)});g=625;h=100;b.map(function(a){a.position={x:g,y:h};g+=d/4+50;
g>1.75*d&&(g=625,h+=f/4+50)})}window.addEventListener("load",function(){var b=document.getElementById("paper");paper.setup(b);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function NandView(b,a){var c=new AndView(b,a),e=c.gateWidth/6;b.inverterRadius=e/2;var d=new InverterView(b,a);d.position={x:c.gateWidth+e/2+1,y:c.bounds.height/2};return new paper.Group([c,d])};function NorView(b,a){var c=new OrView(b,a),e=c.gateWidth/6;b.inverterRadius=e/2;var d=new InverterView(b,a);d.position={x:c.gateWidth+e/2+1,y:c.bounds.height/2};return new paper.Group([c,d])};function NotView(b,a){var c=new BufferView(b,a),e=5*c.gateWidth/3/6;b.inverterRadius=e/2;var d=new InverterView(b,a);d.position={x:c.gateWidth+e/2+1,y:c.bounds.height/2};return new paper.Group([c,d])};function OrView(b,a){var c=.4*b.width,e=.6*b.width,d=b.width/7,f=b.height/2,g=new paper.Path.Arc({from:{x:c,y:0},through:{x:c+e/2,y:f/4},to:{x:b.width,y:f}});g.remove();e=new paper.Path.Arc({from:{x:b.width,y:f},through:{x:c+e/2,y:b.height-f/4},to:{x:c,y:b.height}});e.remove();var h=new paper.Path.Arc({from:{x:0,y:b.height},through:{x:d,y:f},to:{x:0,y:0}});h.remove();c=new paper.Path({segments:[{x:0,y:0},{x:c,y:0},g.segments[0],g.segments[1],e.segments[0],e.segments[1],{x:c,y:b.height},{x:0,y:b.height},
h.segments[0],h.segments[1]],closed:!0,strokeWidth:a.stroke.width,strokeColor:a.stroke.colour,fillColor:a.fill.colour});h=b.height/4;e=b.width/2;g=new paper.Path.Line({from:{x:d-a.stroke.width/2,y:h},to:{x:-(e+a.stroke.width),y:h},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour});d=new paper.Path.Line({from:{x:d-a.stroke.width/2,y:b.height-h},to:{x:-(e+a.stroke.width),y:b.height-h},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour});f=new paper.Path.Line({from:{x:c.bounds.width,
y:f},to:{x:c.bounds.width+e+a.stroke.width/2,y:f},strokeWidth:.6*a.stroke.width,strokeColor:a.stroke.colour});f=new paper.Group([g,d,c,f]);f.gateWidth=c.bounds.width;return f};function ProportionalHeight(b){b=b||{};this.width=b.width||100;this.height=4*this.width/5};function ProportionalThickness(b,a){a=a||{};this.stroke={width:a.strokeWidth||b.width/20,colour:a.strokeColour||"black"};this.fill={colour:a.fillColour||"white"};this.inverterRadius=a.inverterRadius||12.5};function XNorView(b,a){var c=new XorView(b,a),e=c.gateWidth/6;b.inverterRadius=e/2;var d=new InverterView(b,a);d.position={x:c.gateWidth+c.gapWidth-e/2+e/2+1,y:c.bounds.height/2};return new paper.Group([c,d])};function XorView(b,a){var c=new OrView(b,a),e=c.gateWidth/7,d=.6*e,f=c.bounds.height,g=d;a.stroke.width>d/2&&(d+=a.stroke.width/2);e=new paper.Path.Arc({from:{x:-d,y:0},through:{x:e-.85*d,y:f/2},to:{x:-d,y:f}});e.remove();d=new paper.Path({segments:[{x:1-d,y:0},e.segments[0],e.segments[1],{x:1-d,y:f}],strokeWidth:a.stroke.width,strokeColor:a.stroke.colour});d=new paper.Group([c,d]);d.gateWidth=c.gateWidth;d.gapWidth=g;return d};
