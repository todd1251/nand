function AndView(a){a=a||{};var b=a.strokeWidth||4,g=a.strokeColor||"black",h=a.width||100,c=3*h/5,e=4*h/5,d=e/2,f=new paper.Path.Arc({from:{x:c,y:0},through:{x:h,y:d},to:{x:c,y:e}});f.remove();a=new paper.Path({segments:[{x:0,y:0},{x:c,y:0},f.segments[0],f.segments[1],f.segments[2],{x:c,y:e},{x:0,y:e}],closed:!0,strokeWidth:b,strokeColor:g,fillColor:a.fillColor||"white"});c=e/4;f=h/2;h=new paper.Path.Line({from:{x:-(b/2),y:c},to:{x:-(f+b),y:c},strokeWidth:.6*b,strokeColor:g});e=new paper.Path.Line({from:{x:-(b/
2),y:e-c},to:{x:-(f+b),y:e-c},strokeWidth:.6*b,strokeColor:g});b=new paper.Path.Line({from:{x:a.bounds.width,y:d},to:{x:a.bounds.width+f+b/2,y:d},strokeWidth:.6*b,strokeColor:g});b=new paper.Group([h,e,a,b]);b.gateWidth=a.bounds.width;return b};function BufferView(a){a=a||{};var b=a.strokeWidth||4,g=a.strokeColor||"black",h=a.width||100,c=4*h/5,e=c/2;a=new paper.Path({segments:[{x:0,y:0},{x:3*h/5,y:e},{x:0,y:c}],closed:!0,strokeWidth:b,strokeColor:g,fillColor:a.fillColor||"white"});c=7*h/10;h=new paper.Path.Line({from:{x:-(b/2),y:e},to:{x:-(c+b),y:e},strokeWidth:.6*b,strokeColor:g});b=new paper.Path.Line({from:{x:a.bounds.width,y:e},to:{x:a.bounds.width+c+b/2,y:e},strokeWidth:.6*b,strokeColor:g});b=new paper.Group([h,a,b]);b.gateWidth=a.bounds.width;
return b};function InverterView(a){a=a||{};return new paper.Path.Circle({radius:a.radius||12.5,strokeWidth:a.strokeWidth||4,strokeColor:a.strokeColor||"black",fillColor:a.fillColor||"white"})};function render(){paper.project.activeLayer.removeChildren();var a=[BufferView,NotView,AndView,NandView,OrView,NorView,XorView,XNorView],b=a.map(function(a){return new a}),g=a.map(function(a){return new a({width:150})}),h=a.map(function(a){return new a({width:50})}),a=a.map(function(a){return new a({width:20})}),c=null,e=null;g.map(function(a){if(null==c||a.bounds.width>c)c=a.bounds.width;if(null==e||a.bounds.height>e)e=a.bounds.height});var d=175,f=100;b.map(function(a){a.position={x:d,y:f};d+=c;
d>2.5*c&&(d=175,f+=e+0)});d=825;f=100;g.map(function(a){a.position={x:d,y:f};d+=c+50;d>4.5*c&&(d=825,f+=e+50)});d=100;f=600;h.map(function(a){a.position={x:d,y:f};d+=c/4+50;d>1.75*c&&(d=100,f+=e/4+50)});d=625;f=100;a.map(function(a){a.position={x:d,y:f};d+=c/4+50;d>1.75*c&&(d=625,f+=e/4+50)})}window.addEventListener("load",function(){var a=document.getElementById("paper");paper.setup(a);paper.view.onFrame=function(a){paper.view.draw()};paper.view.onResize=function(a){render()};render()});function NandView(a){a=a||{};var b=new AndView(a),g=b.gateWidth/6;a.radius=g/2;a=new InverterView(a);a.position={x:b.gateWidth+g/2+1,y:b.bounds.height/2};return new paper.Group([b,a])};function NorView(a){a=a||{};var b=new OrView(a),g=b.gateWidth/6;a.radius=g/2;a=new InverterView(a);a.position={x:b.gateWidth+g/2+1,y:b.bounds.height/2};return new paper.Group([b,a])};function NotView(a){a=a||{};var b=new BufferView(a),g=5*b.gateWidth/3/6;a.radius=g/2;a=new InverterView(a);a.position={x:b.gateWidth+g/2+1,y:b.bounds.height/2};return new paper.Group([b,a])};function OrView(a){a=a||{};var b=a.strokeWidth||4,g=a.strokeColor||"black",h=a.width||100,c=.4*h,e=.6*h,d=h/7,f=4*h/5,k=f/2,l=new paper.Path.Arc({from:{x:c,y:0},through:{x:c+e/2,y:k/4},to:{x:h,y:k}});l.remove();e=new paper.Path.Arc({from:{x:h,y:k},through:{x:c+e/2,y:f-k/4},to:{x:c,y:f}});e.remove();var m=new paper.Path.Arc({from:{x:0,y:f},through:{x:d,y:k},to:{x:0,y:0}});m.remove();a=new paper.Path({segments:[{x:0,y:0},{x:c,y:0},l.segments[0],l.segments[1],e.segments[0],e.segments[1],{x:c,y:f},{x:0,
y:f},m.segments[0],m.segments[1]],closed:!0,strokeWidth:a.strokeWidth||4,strokeColor:a.strokeColor||"black",fillColor:a.fillColor||"white"});c=f/4;l=h/2;h=new paper.Path.Line({from:{x:d-b/2,y:c},to:{x:-(l+b),y:c},strokeWidth:.6*b,strokeColor:g});d=new paper.Path.Line({from:{x:d-b/2,y:f-c},to:{x:-(l+b),y:f-c},strokeWidth:.6*b,strokeColor:g});b=new paper.Path.Line({from:{x:a.bounds.width,y:k},to:{x:a.bounds.width+l+b/2,y:k},strokeWidth:.6*b,strokeColor:g});b=new paper.Group([h,d,a,b]);b.gateWidth=a.bounds.width;
return b};function XNorView(a){a=a||{};var b=new XorView(a),g=b.gateWidth/6;a.radius=g/2;a=new InverterView(a);a.position={x:b.gateWidth+b.gapWidth-g/2+g/2+1,y:b.bounds.height/2};return new paper.Group([b,a])};function XorView(a){a=a||{};var b=a.strokeWidth||4,g=new OrView(a),h=g.gateWidth/7,c=.6*h,e=g.bounds.height,d=c;b>c/2&&(c+=b/2);h=new paper.Path.Arc({from:{x:-c,y:0},through:{x:h-.85*c,y:e/2},to:{x:-c,y:e}});h.remove();a=new paper.Path({segments:[{x:1-c,y:0},h.segments[0],h.segments[1],{x:1-c,y:e}],strokeWidth:b,strokeColor:a.strokeColor||"black"});a=new paper.Group([g,a]);a.gateWidth=g.gateWidth;a.gapWidth=d;return a};
